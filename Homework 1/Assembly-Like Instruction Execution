#include <stdio.h>
#include "the1.h"

void task1_assembly(void)
{
    char instructions[21] = {'\0'};
    int arguments[21][4] = {0}, instructionCount, id, registers[9] = {0}, arg1, arg2, arg3, i;
    
    scanf("%d", &instructionCount);
    
    /* save the inputs to arrays */
    for (id = 1; id <= instructionCount; id++)
    {
        /* avoid reading whitespaces in the input */
        do
        {
            scanf("%c", &instructions[id]);
        } while (instructions[id] < 65 || instructions[id] > 90);
        
        if (instructions[id] == 'A')
        {
            scanf("%d %d", &arguments[id][1], &arguments[id][2]);
        }
        else if (instructions[id] == 'C')
        {
            scanf("%d %d", &arguments[id][1], &arguments[id][2]);
        }
        else if (instructions[id] == 'D')
        {
            scanf("%d", &arguments[id][1]);
        }
        else if (instructions[id] == 'I')
        {
            scanf("%d", &arguments[id][1]);
        }
        else if (instructions[id] == 'J')
        {
            scanf("%d %d %d", &arguments[id][1], &arguments[id][2], &arguments[id][3]);
        }
        else if (instructions[id] == 'S')
        {
            scanf("%d %d", &arguments[id][1], &arguments[id][2]);
        }
    }
    
    /* process the arrays */
    for (id = 1; id <= instructionCount; id++)
    {
        if (instructions[id] == 'A')
        {
            arg1 = arguments[id][1], arg2 = arguments[id][2];
            registers[arg1] = registers[arg1] + registers[arg2];
        }
        else if (instructions[id] == 'C')
        {
            arg1 = arguments[id][1], arg2 = arguments[id][2];
            registers[arg1] = registers[arg2];
        }
        else if (instructions[id] == 'D')
        {
            arg1 = arguments[id][1];
            registers[arg1]--;
        }
        else if (instructions[id] == 'I')
        {
            arg1 = arguments[id][1];
            registers[arg1]++;
        }
        else if (instructions[id] == 'J')
        {
            arg1 = arguments[id][1], arg2 = arguments[id][2], arg3 = arguments[id][3];
            if (registers[arg1] > registers[arg2])
            {
                id = arg3 - 1;
            }
        }
        else if (instructions[id] == 'S')
        {
            arg1 = arguments[id][1], arg2 = arguments[id][2];
            registers[arg1] = arg2;
        }
    }
    
    /* print the final state of registers */
    for (i = 1; i <= 8; i++)
    {
        printf("R%d: %d\n", i, registers[i]);
    }
    
}

int main(void)
{
    /* DO NOT CHANGE main() FUNCTION IMPLEMENTATION */
    int task_id;
    
    scanf("%d", &task_id);
    
    switch(task_id) {
        case 1:
            task1_assembly();
            break;
        case 2:
            task2_planes();
            break;
        default:
            /* no op */
            break;
    }

    return 0;
}

/*

I used here as a planning space.

an array for registers
    there are 8 registers, initial value of them is 0
instructions on these registers
    at most 3 arguments per instruction
    at most 20 instructions given in the input
    instruction ids start from 1
    
    instruction types
    
        Add
            A 1 5       R5 + R1 => R1
        Copy
            C 1 2       R2 => R1
        Decrement
            D 4         R4 - 1 => R4
        Increment
            I 8         R8 + 1 => R8
        Jump if greater
            J 7 2 4     jump to instruction 4 if R7 > R2
        Set
            S 1 120     120 => R1
            
print the final states of registers, WITH a newline at the end

input-output details
    first integer input is task id
    second integer input is the number of instructions

thinking
    initialize the variables
    get the inputs (first input is taken in the main function)
    set the loop for code
        (cancelled) scanning instructions, register values, applying them one by one (be careful writing "the address" in scanf) (i cannot "jump" in this solution)
        scan instructions to an array {'\0','A','D','D','S','J','I'}
            for (;id < instructionCount;)
                scan the instruction and set if statements for each instruction
                    if A
                        scan next two inputs
                        make necessary operations
                    if C
                        scan next two inputs
                        make necessary operations
                    if D
                        scan the next input
                        make necessary operations
                    if I
                        scan the next input
                        make necessary operations
                    if J
                        scan next three inputs
                        make necessary operations (how to jump?)
                    if S
                        scan next two inputs
                        make necessary operations
    print
    
    maybe i should read the input all at once
    then, instructions[20] array and arguments[20][3] array
    {'\0', 'S','I','D','D','J','A','\0','\0'}
    {{0,0,0}, {8,11,0}, {2,0,0}, {3,0,0}, {3,0,0}, {3,6,2}, {8,3,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}, {0,0,0}}

1
6
S 8 11
I 2
D 3
D 3
J 3 6 2
A 8 3

instructions[9] = {'\0', 'S', 'I', 'D', 'D', 'J', 'A', '\0', '\0'}
arguments[21][4] = {{0, 0, 0, 0}, {8, 11, 0, 0}, {2, 0, 0, 0}, {3, 0, 0, 0}, {3, 0, 0, 0}, {3, 6, 2, 0}, {8, 3, 0, 0}, {0, 0, 0, 0}, {0, 0, 0, 0}, {0, 0, 0, 0}, {0, 0, 0, 0}, {0, 0, 0, 0}, {0, 0, 0, 0}, {0, 0, 0, 0}, {0, 0, 0, 0}, {0, 0, 0, 0}, {0, 0, 0, 0}, {0, 0, 0, 0}, {0, 0, 0, 0}, {0, 0, 0, 0}}
registers[9] = {0, 0, 0, 0, 0, 0, 0, 0, 0}

initializations, instructions[21], arguments[21][4], registers[9], instructionCount, id
    read and 'save' the input to arrays
        read instructionCount
        (for loop) read instructions and their arguments according to instruction type (if A, then read the next two, if J, then read the next three, ...)
            be careful, you can read also whitespaces in scanf("%c")
    process the arrays
        (for loop) make necessary operations using if statements (if A, if S, ...)
    print final state of registers, WITH a newline

*/
    
}
